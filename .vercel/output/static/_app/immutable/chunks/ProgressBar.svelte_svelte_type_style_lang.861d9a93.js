import{w}from"./index.3dad9bbf.js";import{at as P}from"./index.fb0448de.js";const d={};function S(e){return e==="local"?localStorage:sessionStorage}function m(e,r,s){const o=(s==null?void 0:s.serializer)??JSON,f=(s==null?void 0:s.storage)??"local";function i(n,c){S(f).setItem(n,o.stringify(c))}if(!d[e]){const n=w(r,t=>{const a=S(f).getItem(e);a&&t(o.parse(a));{const g=l=>{l.key===e&&t(l.newValue?o.parse(l.newValue):null)};return window.addEventListener("storage",g),()=>window.removeEventListener("storage",g)}}),{subscribe:c,set:u}=n;d[e]={set(t){i(e,t),u(t)},update(t){const a=t(P(n));i(e,a),u(a)},subscribe:c}}return d[e]}const h=m("modeOsPrefers",!1),M=m("modeUserPrefers",void 0),L=m("modeCurrent",!1);function C(){const e=window.matchMedia("(prefers-color-scheme: light)").matches;return h.set(e),e}function v(e){M.set(e)}function E(e){const r=document.documentElement.classList,s="dark";e===!0?r.remove(s):r.add(s),L.set(e)}function b(){const e=document.documentElement.classList,r=localStorage.getItem("modeUserPrefers")==="false",s=!("modeUserPrefers"in localStorage),o=window.matchMedia("(prefers-color-scheme: dark)").matches;r||s&&o?e.add("dark"):e.remove("dark")}export{E as a,v as b,C as g,L as m,b as s};
